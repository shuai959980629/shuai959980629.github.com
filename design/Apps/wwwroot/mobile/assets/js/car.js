function __init(){$(".letter").bind("click",function(t){var e=this.textContent,i=$("#"+e).offset().top-92;$("html, body").animate({scrollTop:i})}),$("#close").bind("click",function(){$("#errorMsg").hide(1e3)}),$(".close").bind("click",function(){$(".ui-actionsheet").removeClass("show")}),$(".hide-series-model").bind("click",function(){var t=$(this).attr("data");$("."+t).hide()}),$(".click-list-link").click(function(){var t=$(this).attr("data-url");window.location.href=t}),$(".back").bind("click",function(){$(".left_page").show(),$(".select_city").hide(),$(".time_page").hide(),$(".car_page").hide(),$(".city_page").hide()})}function initVin(){$(".cartype_btn").addClass("disabled"),$(".VIN_text").bind("input propertychange",function(){""==$(".VIN_text").val()||$(".VIN_text").val().length<17?$(".cartype_btn").addClass("disabled"):$(".cartype_btn").removeClass("disabled")}),$(".cartype_btn").click(function(){var t=$(".VIN_text").val();if(""==t||t.length<17)return!1;var e=$.loading({content:"加载中..."});$.getJSON("/home/vin",{vin:t},function(t){if(!t.status)return showErrorTips(t.msg),!1;e.loading("hide"),$("#vin-car-list").html("");var i=t.data;for(var a in i){var n=document.createElement("button");n.className="car-list-li",n.setAttribute("data-bid",i[a].brand_id),n.setAttribute("data-sid",i[a].series_id),n.setAttribute("data-mid",i[a].model_id),n.setAttribute("data-year",i[a].model_year),n.setAttribute("data-max",i[a].max_reg_year),n.setAttribute("data-min",i[a].min_reg_year),n.setAttribute("data-name",i[a].model_name),n.setAttribute("data-bname",i[a].brand_name),n.setAttribute("data-sname",i[a].series_name),n.innerHTML=i[a].model_name+"("+i[a].model_price+"万)",n.addEventListener("click",function(t){}),$("#vin-car-list").append(n)}$(".ui-actionsheet").addClass("show")})}),$(".car-list-li").live("click",function(t){var e=this;return window.scrollTo(0,0),e.hasAttribute("data-name")?(window.modelName=e.getAttribute("data-name"),window.brandName=e.getAttribute("data-bname"),window.seriesName=e.getAttribute("data-sname"),window.brandId=e.getAttribute("data-bid"),window.seriesId=e.getAttribute("data-sid"),window.modelId=e.getAttribute("data-mid"),window.minYear=Number(e.getAttribute("data-min")),window.maxYear=Number(e.getAttribute("data-max")),$("#chooseModel").text(window.modelName),$(".ui-actionsheet").removeClass("show"),!1):void 0})}function initMonth(){$("#year").html("");for(var t=window.minYear;t<=window.maxYear;t++){var e=document.createElement("li");e.className="year-list-li",e.setAttribute("data-year",t),e.innerHTML='<h4  class="year">'+t+"</h4>",e.addEventListener("click",function(t){}),$("#year").append(e)}}function initDate(){initMonth(),$(".time").click(function(){return""==window.modelId?(showErrorTips("请选择车型！"),!1):($(".left_page").hide(),$(".time_page").show(),$(".car_page").hide(),void $(".city_page").hide())}),$(".year-list-li").live("click",function(t){var e=this;$(".year-list-li").css({backgroundColor:"#ffffff",color:"#333333"}),$(e).css({backgroundColor:"darkmagenta",color:"White"}),window.scrollTo(0,0),window.yearValue=e.getAttribute("data-year"),$(".month_list").length&&$(".month_list").remove();var i=document.createElement("div");i.className="month_list";var a=document.createElement("ul");a.className="ui-list ui-list-text ui-list-active ui-list-cover ui-border-tb";for(var n=1;12>=n;n++){var r=document.createElement("li");r.className="ui-border-t month-list-li",r.setAttribute("data-month",n),r.innerHTML='<h4  class="ui-nowrap month">'+n+"</h4>",r.addEventListener("click",function(t){}),$(a).append(r)}return $(i).append(a),$(this).after(i),$(".month_list").length&&$(".month_list").slideDown(),!1}),$(".month-list-li").live("click",function(t){var e=this;return $(".month-list-li").css({backgroundColor:"#ffffff",color:"#333333"}),$(e).css({backgroundColor:"darkmagenta",color:"White"}),window.scrollTo(0,0),window.monthValue=e.getAttribute("data-month"),$(".left_page").show(),$(".time_page").hide(),$(".month_list").length&&$(".month_list").remove(),$(".month_list").hide(),$("#regDate").html(window.yearValue+"-"+window.monthValue),!1})}function initCar(){$(".car").click(function(){$(".left_page").hide(),$(".car_page").show(),$(".city_page").hide(),$(".time_page").hide(),$(".VIN_text").val("")}),$(".li-brand-list").on("click",function(){var t=this;window.scrollTo(0,0);var e=$.loading({content:"加载中..."});return window.brandName=t.getAttribute("data-name"),window.brandId=t.getAttribute("data-source"),$("#brand-title").html(window.brandName),$.getJSON("/car/series",{bid:t.getAttribute("data-source")},function(t){if(e.loading("hide"),t.length>0){$("#series_list").html("");for(var i in t){var a=t[i].series_name||t[i].value,n=t[i].series_id||t[i].key,r=document.createElement("li");r.className="ui-border-t series-list-li",r.setAttribute("data-name",a),r.setAttribute("data-source",n),r.innerHTML='<h4  class="ui-nowrap">'+a+"</h4>",r.addEventListener("click",function(t){}),$("#series_list").append(r)}$(".cartype_page").show().transition({x:"0",y:"0"}),$(".cartype_info").hide().css({x:"500px",y:"0"})}}),!1}),$(".series-list-li").live("click",function(){var t=this;window.scrollTo(0,0);var e=$.loading({content:"加载中..."});return window.seriesId=t.getAttribute("data-source"),window.seriesName=t.getAttribute("data-name"),$("#seriesTitle").html(window.seriesName),$.getJSON("/car/model",{sid:t.getAttribute("data-source")},function(t){if(e.loading("hide"),t.length>0){$("#model_list").html(""),$(".cartype_info").show().transition({x:"0",y:"0"});var i="";for(var a in t){var n=t[a].model_year||t[a].year,r=t[a].model_id||t[a].key,o=t[a].max_reg_year||t[a].max_year,d=t[a].min_reg_year||t[a].min_year,s=t[a].model_name||t[a].nameL,l=t[a].short_name||t[a].value,c=t[a].model_price||t[a].price;if(n!=i){var m=document.createElement("li");m.setAttribute("style","background: #e1e5ed;border:none;color:#2a6496"),m.innerHTML='<h4 class="year">'+n+"款</h4>",$("#model_list").append(m),i=n}var u=document.createElement("li");u.className="ui-border-t model-list-li",u.setAttribute("data-source",r),u.setAttribute("data-max",o),u.setAttribute("data-min",d),u.setAttribute("data-name",s),u.innerHTML='<h4 class="ui-nowrap month">'+l+"("+Number(c).toFixed(2)+"万)</h4>",u.addEventListener("click",function(t){}),$("#model_list").append(u)}}}),!1}),$(".model-list-li").live("click",function(t){var e=this;if(window.scrollTo(0,0),e.hasAttribute("data-name")){window.modelName=e.getAttribute("data-name"),window.modelId=e.getAttribute("data-source"),window.minYear=Number(e.getAttribute("data-min")),window.maxYear=Number(e.getAttribute("data-max")),$("#year").html(""),$("#regDate").html("上牌日期"),window.yearValue="",window.monthValue="";for(var i=window.minYear;i<=window.maxYear;i++){var a=document.createElement("li");a.className="year-list-li ui-border-t",a.setAttribute("data-year",i),a.innerHTML='<h4 class="year">'+i+"</h4>",a.addEventListener("click",function(t){}),$("#year").append(a)}return $(".left_page").show(),$(".cartype_info").hide(),$(".cartype_page").hide(),$(".car_page").hide(),$("#chooseModel").text(window.modelName),!1}})}function initCity(){$(".city").click(function(){$(".left_page").hide(),$(".city_page").show(),$(".car_page").hide(),$(".time_page").hide()}),$(".area").on("click",function(){window.scrollTo(0,0),$(this).css("color","orange");var t=$.loading({content:"加载中..."});window.prov=$(this).attr("data-prov"),window.provName=$(this).text(),$.getJSON("/car/city",{pid:window.prov},function(e){t.loading("hide"),window.cityData=e;var i=[];for(var a in window.cityData){var n=window.cityData[a].city_id||window.cityData[a].key,r=window.cityData[a].city_name||window.cityData[a].value;i[a]='<li  class="ui-border-t city-list-li"><h4 data-city="'+n+'" class="ui-nowrap area_city">'+r+"</h4></li>"}var o=i.join("");$(".city-list-li").length&&$(".city-list-li").remove(),$(".city-list").append(o);var d=document.documentElement.clientHeight;$(".select_city").css({height:d+"px",border:"1px solid #000000"}).show().addClass("demo2"),$(".area_city").on("click",function(){window.city=$(this).attr("data-city"),window.cityName=$(this).text();var t=window.cityName;window.provName!=window.cityName&&(t=window.provName+"-"+window.cityName),$(".cityH4").html(t),$(".left_page").show(),$(".select_city").hide(),$(".city_page").hide()})})})}function disappearErrorMsg(){window.setTimeout(function(){$("#errorMsg").hide(1e3)},2e3)}function showErrorTips(t){$("#msg").html(t),$("#errorMsg").show()}!function(t){var e={};e.cache={},t.tpl=function(t,i,a){var n=/[^\w\-\.:]/.test(t)?function(t,e){var i,a=[],r=[];for(i in t)a.push(i),r.push(t[i]);return new Function(a,n.code).apply(e||t,r)}:e.cache[t]=e.cache[t]||this.get(document.getElementById(t).innerHTML);return n.code=n.code||"var $parts=[]; $parts.push('"+t.replace(/\\/g,"\\\\").replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/(^|%>)[^\t]*/g,function(t){return t.replace(/'/g,"\\'")}).replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("$parts.push('")+"'); return $parts.join('');",i?n(i,a):n},t.adaptObject=function(e,i,a,n,r,o){var d=e;if("string"!=typeof a){var s=t.extend({},i,"object"==typeof a&&a),l=!1;t.isArray(d)&&d.length&&"script"==t(d)[0].nodeName.toLowerCase()?(d=t(t.tpl(d[0].innerHTML,s)).appendTo("body"),l=!0):t.isArray(d)&&d.length&&""==d.selector?(d=t(t.tpl(d[0].outerHTML,s)).appendTo("body"),l=!0):t.isArray(d)||(d=t(t.tpl(n,s)).appendTo("body"),l=!0)}return d.each(function(){var e=t(this),n=e.data("fz."+o);n||e.data("fz."+o,n=new r(this,t.extend({},i,"object"==typeof a&&a),l)),"string"==typeof a&&n[a]()})}}(window.jQuery),!function(t){function e(e){return t.adaptObject(this,a,e,i,n,"loading")}var i='<div class="ui-loading-block show"><div class="ui-loading-cnt"><i class="ui-loading-bright"></i><p><%=content%></p></div></div>',a={content:"加载中..."},n=function(e,i,n){this.element=t(e),this._isFromTpl=n,this.option=t.extend(a,i),this.show()};n.prototype={show:function(){var e=t.Event("loading:show");this.element.trigger(e),this.element.show()},hide:function(){var e=t.Event("loading:hide");this.element.trigger(e),this.element.remove()}},t.fn.loading=t.loading=e}(window.jQuery);